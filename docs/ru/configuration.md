# Конфигурационные файлы

Конфигурационные файлы для систем контроля версий, контейнеров и инструментов разработки.

## Конфигурационные файлы Git

### .gitignore

Указывает намеренно неотслеживаемые файлы, которые Git должен игнорировать.

**Назначение:**
- Исключать артефакты сборки и скомпилированный код
- Игнорировать файлы, специфичные для IDE и редакторов
- Держать секреты и учётные данные вне репозитория
- Уменьшать размер и раздутость репозитория
- Предотвращать случайные коммиты временных файлов

**Требуемые категории содержания:**
- Результаты сборки (бинарники, скомпилированные файлы, пакеты дистрибуции)
- Директории зависимостей (node_modules, vendor и т.д.)
- Файлы IDE и редакторов (.vscode, .idea, *.swp)
- Файлы операционных систем (.DS_Store, Thumbs.db)
- Секреты и учётные данные (.env, *.key, *.pem)
- Файлы логов и временные файлы
- Директории кеша

**Лучшие практики:**
- Используйте gitignore.io для шаблонов, специфичных для языков и фреймворков
- Включайте игнорирования, специфичные для языка
- Добавляйте игнорирования, специфичные для проекта
- Документируйте необычные шаблоны игнорирования
- Поддерживайте организацию с комментариями

### .gitkeep

**ВАЖНО:** Не официальный файл Git — это соглашение сообщества.

**Назначение:**
- Git не отслеживает пустые директории
- `.gitkeep` заставляет Git отслеживать пустые директории, будучи отслеживаемым файлом внутри них
- Альтернативное название: `.keep` (также не официальное, та же цель)

**Когда использовать:**
- Структура директорий должна существовать для функционирования приложения
- Директории для файлов логов, загрузок, кеша, которые изначально пустые
- Системы сборки ожидают определённую структуру директорий
- Директории данных, которые будут заполнены во время выполнения

**Альтернативы:**
- `.keep` (более короткое название, то же соглашение)
- Любой отслеживаемый файл (README.md, объясняющий директорию)
- Некоторые проекты используют пустые файлы `.gitignore`

### .gitattributes

Контролирует, как Git обрабатывает окончания строк, diff'ы и слияния.

**Назначение:**
- Нормализовать окончания строк в разных операционных системах
- Контролировать поведение diff для конкретных типов файлов
- Помечать файлы как бинарные или текстовые
- Настраивать стратегии слияния
- Контролировать поведение экспорта и архивирования
- Помечать сгенерированные файлы для GitHub Linguist

**Распространённые случаи использования:**
- Нормализация окончаний строк (LF vs CRLF)
- Принудительное использование конкретных окончаний строк для скриптов
- Явное пометить бинарные файлы
- Определять пользовательские алгоритмы diff для конкретных типов файлов
- Идентифицировать сгенерированные файлы
- Контролировать обработку пробелов

**Когда включать:**
- Кроссплатформенные проекты (Windows, Mac, Linux)
- Проекты с бинарными файлами
- Когда окончания строк критичны (shell-скрипты, конфигурационные файлы)
- Проекты со сгенерированными файлами в репозитории
- Мультиязычные проекты

### .gitmodules

Конфигурационный файл для Git submodules.

**Назначение:**
- Определять внешние репозитории, включённые как поддиректории
- Указывать URL и пути submodules
- Отслеживать конкретные коммиты внешних зависимостей

**Структура содержания:**
- Путь submodule внутри репозитория
- Удалённый URL репозитория submodule
- Опционально: конкретная ветка для отслеживания

**Лучшие практики:**
- Размещайте submodules в директории `3rd/` (рекомендуемое соглашение)
- Альтернативные названия директорий: `vendor/`, `external/`, `deps/`
- Документируйте, почему используется каждый submodule
- Привязывайтесь к конкретным коммитам или тегам для стабильности
- Рассмотрите альтернативы (пакетные менеджеры) перед использованием submodules

**Распространённые структуры директорий:**
- `3rd/` — Сторонний код (рекомендуется)
- `vendor/` — Альтернативное распространённое название
- `external/` — Альтернативное название
- `deps/` — Альтернативное название для зависимостей

## Конфигурация Docker

### .dockerignore

Аналогично `.gitignore`, но для контекста сборки Docker.

**Назначение:**
- Уменьшить размер контекста сборки Docker
- Более быстрые сборки Docker
- Избежать копирования секретов в образы Docker
- Уменьшить размер образа
- Предотвратить ненужную инвалидацию кеша

**Требуемые категории содержания:**
- Директории контроля версий (.git, .gitignore)
- Файлы, связанные с Docker (Dockerfile, docker-compose.yml, .dockerignore)
- Документация (README.md, CHANGELOG.md, docs/)
- Инструменты разработки (.vscode/, .idea/)
- Файлы логов
- Зависимости, если устанавливаются в Dockerfile
- Результаты сборки, если собираются в Dockerfile
- Тестовые файлы и тестовые данные
- Файлы конфигурации CI/CD

**Когда включать:**
- Каждый проект с Dockerfile
- Необходимо для продакшн-сборок
- Даже простые проекты получают от него пользу

## Конфигурация редактора

### .editorconfig

Обеспечивает единообразный стиль кодирования в разных редакторах и IDE.

**Назначение:**
- Определять единообразные правила форматирования
- Работает в нескольких редакторах
- Уменьшает несоответствия стиля в контрибуциях
- Устраняет споры о форматировании
- Автоматическое обеспечение стиля

**Поддерживаемые свойства:**
- `indent_style` — табуляции или пробелы
- `indent_size` — количество пробелов или ширина табуляции
- `end_of_line` — lf, crlf или cr
- `charset` — кодировка файла (utf-8 и т.д.)
- `trim_trailing_whitespace` — true/false
- `insert_final_newline` — true/false
- `max_line_length` — лимит символов

**Сопоставление шаблонов файлов:**
- Глобальные правила для всех файлов
- Правила, специфичные для языка
- Правила, специфичные для расширения файла
- Правила, специфичные для имени файла (Makefile и т.д.)

**Поддержка редакторов:**
Работает в VSCode, IntelliJ IDEA, Vim, Emacs, Sublime Text, Atom и многих других.

**Когда включать:**
- Крайне рекомендуется для проектов с несколькими разработчиками
- Необходимо для проектов с открытым исходным кодом, принимающих контрибуции
- Любой проект, ожидающий внешних контрибьюторов
- Команды со смешанными предпочтениями редакторов

## Лучшие практики

1. **Всегда включайте .gitignore** — Даже для небольших проектов
2. **Используйте .gitkeep мудро** — Только для директорий, которые должны существовать пустыми
3. **Используйте .gitattributes** — Предотвращает кроссплатформенные проблемы с окончаниями строк
4. **Submodules в 3rd/** — Чёткая, конвенционная организация
5. **Всегда используйте .dockerignore** — С каждым Dockerfile
6. **Используйте .editorconfig** — Для единообразного форматирования
7. **Документируйте соглашения** — Если используете нестандартные расположения или шаблоны
8. **Держите конфигурации обновлёнными** — Пересматривайте и обновляйте по мере эволюции проекта
9. **Тестируйте конфигурации** — Проверяйте, что они работают как задумано
10. **Используйте шаблоны** — Начинайте с устоявшихся шаблонов для вашего технологического стека

## Debian Packaging (для CI/CD)

### Директория debian/

Для проектов, которые хотят быть упакованными как пакеты Debian/Ubuntu.

**Назначение:**
- Создание нативных пакетов Debian/Ubuntu
- Интеграция с пакетным менеджером apt
- Профессиональная дистрибуция для Linux

**Требуемые файлы:**
- `changelog` — История версий в формате Debian
- `control` — Метаданные пакета и зависимости
- `copyright` — Информация о лицензировании
- `rules` — Инструкции по сборке
- `compat` — Уровень совместимости Debhelper
- `source/format` — Спецификация формата исходного пакета

**Когда включать:**
- Проекты, нацеленные на дистрибутивы Debian/Ubuntu
- Профессиональное программное обеспечение для Linux
- ПО, предназначенное для официальных репозиториев
- Энтерпрайз развёртывания на Linux
